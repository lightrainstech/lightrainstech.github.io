<!doctype html>
<html amp lang="en">
<head>
  <meta charset="utf-8">
  <title>ECMAScript 6</title>
  <link rel="canonical" href="https://lightrains.com/blogs/es6" />
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <style amp-custom="">
    body {
        padding: 10px;
        animation: amp-timeout 0x 5s 1 normal forwards;
        padding-top: 30px;
        background-color: #f4f4f2;
        color: #333332;
        font-size: 18px;
        font-style: normal;
        font-weight: 400;
        letter-spacing: -0.02em;
        line-height: 1.4;
        text-rendering: optimizeLegibility;
        -webkit-font-smoothing: antialiased;
        font-family: 'Monaco', Courier;
    }
    .h1 {
        font-size: 20px;
    }
    .ui.highlight {
        font-size: 18pt;
        border-left: 3px solid #a7bd0d;
        padding: 15px;
        margin: 20px 5px;
        font-style: italic;
        background: #fbfbfb;
        color: #21ba45;
    }
    p {
        color: #333;
        line-height: 26px;
        display: block;
    }
    @keyframes amp-timeout {
        0% {
            opacity: 0;
        }
        100% {
            opacity: 1;
        }
    }
    a {
        color: #1678c2;
        background: transparent;
        color: #666666;
        display: inline;
        text-decoration: underline;
    }
    .related.ui.segment {
        border-top: 5px solid #202020;
        background: rgba(48, 54, 4, 0.12);
        padding: 5px;
    }
    .related.ui.segment h3 {
        margin-top: 0;
    }
    .ampmenu a {
        display: inline-block;
        margin: 0 10px 0 0;
        color: #303030;
        letter-spacing: 1px;
        text-decoration: none;
    }
    amp-img {
        background-color: gray;
    }
    .ampmenu {
        background: rgba(255, 255, 255, 0.95);
        width: 98%;
        position: fixed;
        left: 0;
        top: 0;
        padding: 10px;
        border-bottom: 1px solid #e6e6e6;
        z-index: 99;
    }
    html {
        font-family: sans-serif;
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
    }
    body hr {
        border: 0;
        border-top: 1px solid #b3b3b3;
        display: block;
        margin: 50px auto 40px auto;
        width: 20%;
    }
    body a:focus,
    body a:hover {
        color: #ff4136;
    }
    .post-title {
        font-size: 35px;
        letter-spacing: -0.02em;
        letter-spacing: -0.04em;
        line-height: 1.1;
        margin-bottom: 8px;
        text-align: center;
    }

    .content {
        display: block;
        font-size: 18px;
        font-style: normal;
        letter-spacing: 0.05px;
        line-height: 1.5;
        margin: 0 auto;
        max-width: 98%;
    }
    .timespan {
        font-size: 15px;
        clear: both;
        opacity: 0.7;
    }
    a.nonamp {
        text-align: center;
        display: block;
        margin: 10px;
    }
    ul,
    ol {
        list-style: none;
        margin-left: 8px;
        padding-left: 1em;
        text-indent: -1em;
    }
    li {
        margin: 6px 0;
    }
    li:before {
        content: '\0BB \020';
    }
    pre,
    code {
        background: #333;
        color: #fff;
        padding: 3px;
        border-radius: 2px;
        -o-border-radius: 2px;
        -moz-border-radius: 2px;
    }
    .cta-blog {
        display: none;
        visible: hidden;
        width: 0;
        height: 0;
    }
</style>
<style amp-boilerplate>
    body {
        -webkit-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
        -moz-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
        -ms-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
        animation: -amp-start 8s steps(1, end) 0s 1 normal both;
    }
    @-webkit-keyframes -amp-start {
        from {
            visibility: hidden;
        }
        to {
            visibility: visible;
        }
    }
    @-moz-keyframes -amp-start {
        from {
            visibility: hidden;
        }
        to {
            visibility: visible;
        }
    }
    @-ms-keyframes -amp-start {
        from {
            visibility: hidden;
        }
        to {
            visibility: visible;
        }
    }
    @-o-keyframes -amp-start {
        from {
            visibility: hidden;
        }
        to {
            visibility: visible;
        }
    }
    @keyframes -amp-start {
        from {
            visibility: hidden;
        }
        to {
            visibility: visible;
        }
    }</style
><noscript
    ><style amp-boilerplate>
        body {
            -webkit-animation: none;
            -moz-animation: none;
            -ms-animation: none;
            animation: none;
        }
    </style></noscript
>

  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Organization",
        "name": "Lightrains Technolabs",
        "legalName": "Lightrains Technolabs Private Limited",
        "url": "https://lightrains.com",
        "telephone": "+914714000056",
        "email": "hello(at)lightrains.com",
        "foundingDate": "2012-12-28",
        "slogan": "Technology Supercharged",
        "description": "A global technology solution provider enabling enterprises to apply Blockchain and AI in their businesses.",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Trivandrum",
            "addressRegion": "Kerala",
            "postalCode": "695581",
            "streetAddress": "Module 2, Gayathri, Technopark Campus, Trivandrum, 695581"
        },
        "founder": {
            "@context": "http://schema.org/",
            "@type": "Person",
            "name": "Nikhil Mohan",
            "jobTitle": "Director of Technology",
            "url": "https://nikhilmohan.in/",
            "sameAs": ["https://twitter.com/niksmac_", "https://github.com/niksmac"]
        },
        "logo": "https://lightrains.com/assets/img/lightrains-logo.png",
        "sameAs": ["https://twitter.com/lightrainstech","https://medium.com/lightrains","https://www.facebook.com/lightrainstechnolabs","http://www.linkedin.com/company/1322794","https://github.com/lightrainstech"]
    }
</script>

  <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "mainEntityOfPage":{
    "@type":"WebPage",
    "@id":"https://lightrains.com/blogs/es6/"
  },
  "headline": "ECMAScript 6",
  "about": "Blockchain Consulting.",
  "sameAs": "https://lightrains.com/blogs/es6/",
  "image": {
    "@type": "ImageObject",
    "url": "https://lightrains.com/assets/img/blog/ES6-ecmascript6-logo.jpg",
    "height": 1000,
    "width": 700
  },
  "datePublished": "2016-06-30T01:19:48+05:30",
  "dateModified": "2016-06-30T01:19:48+05:30",
  "author": {
     "@type": "Person",
     "name": "Nikhil Mohan"
   },
  "publisher": {
    "@type": "Organization",
    "name": "Lightrains Technolabs",
    "logo": {
      "@type": "ImageObject",
      "url": "https://lightrains.com/assets/img/lightrains-logo.png",
      "width": 192,
      "height": 60
    }
  },
  "description": "ECMAScript 6, also known as ECMAScript 2015, is the latest version of the ECMAScript standard. ES6 is a significant update to the language, and the first upd..."
}
</script>

</head>
<body>
  
  <div class="ampmenu">
  <a href="/">Home</a>
  <a href="/amp">Blog</a>
  <a href="/about/lightrains" >About</a>
  <a href="/about/contact">Contact</a>
</div>

  <h1 class="post-title ui header huge" itemprop="name headline" title="ECMAScript 6">ECMAScript 6</h1>

  <amp-img
  src="/assets/img/blog/ES6-ecmascript6-logo.jpg"
  alt="ECMAScript 6" height="216" width="360" on="tap:headline-img-lightbox"
  layout="responsive" role="img" tabindex="0"
  ></amp-img>

  <div class="content">
    <span class="timespan">
      Thu, Jun 30, 16
    </span>
    <p>ECMAScript 6, also known as ECMAScript 2015, is the latest version of the ECMAScript standard. ES6 is a significant update to the language, and the first update to the language since ES5 was standardized in 2009. Implementation of these features in major JavaScript engines is underway now.</p>

<p><em>Content is copied shamelessly from <a href="https://github.com/lukehoban/es6features">lukehoban/es6features</a></em></p>

<h2 id="es6-includes-the-following-new-features">ES6 includes the following new features:</h2>

<ul>
  <li><a href="#arrows">arrows</a></li>
  <li><a href="#classes">classes</a></li>
  <li><a href="#enhanced-object-literals">enhanced object literals</a></li>
  <li><a href="#template-strings">template strings</a></li>
  <li><a href="#destructuring">destructuring</a></li>
  <li><a href="#default--rest--spread">default + rest + spread</a></li>
  <li><a href="#let--const">let + const</a></li>
  <li><a href="#iterators--forof">iterators + for..of</a></li>
  <li><a href="#generators">generators</a></li>
  <li><a href="#unicode">unicode</a></li>
  <li><a href="#modules">modules</a></li>
  <li><a href="#module-loaders">module loaders</a></li>
  <li><a href="#map--set--weakmap--weakset">map + set + weakmap + weakset</a></li>
  <li><a href="#proxies">proxies</a></li>
  <li><a href="#symbols">symbols</a></li>
  <li><a href="#subclassable-built-ins">subclassable built-ins</a></li>
  <li><a href="#promises">promises</a></li>
  <li><a href="#math--number--string--array--object-apis">math + number + string + array + object APIs</a></li>
  <li><a href="#binary-and-octal-literals">binary and octal literals</a></li>
  <li><a href="#reflect-api">reflect api</a></li>
  <li><a href="#tail-calls">tail calls</a></li>
</ul>

<h2 id="ecmascript-6-features">ECMAScript 6 Features</h2>

<h3 id="arrows">Arrows</h3>
<p>Arrows are a function shorthand using the <code class="language-plaintext highlighter-rouge">=&gt;</code> syntax.  They are syntactically similar to the related feature in C#, Java 8 and CoffeeScript.  They support both statement block bodies as well as expression bodies which return the value of the expression.  Unlike functions, arrows share the same lexical <code class="language-plaintext highlighter-rouge">this</code> as their surrounding code.</p>

<pre><code class="language-JavaScript">// Expression bodies
var odds = evens.map(v =&gt; v + 1);
var nums = evens.map((v, i) =&gt; v + i);
var pairs = evens.map(v =&gt; ({even: v, odd: v + 1}));

// Statement bodies
nums.forEach(v =&gt; {
 if (v % 5 === 0)
   fives.push(v);
});

// Lexical this
var bob = {
 _name: "Bob",
 _friends: [],
 printFriends() {
   this._friends.forEach(f =&gt;
     console.log(this._name + " knows " + f));
 }
}
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions">MDN Arrow Functions</a></p>

<h3 id="classes">Classes</h3>
<p>ES6 classes are a simple sugar over the prototype-based OO pattern.  Having a single convenient declarative form makes class patterns easier to use, and encourages interoperability.  Classes support prototype-based inheritance, super calls, instance and static methods and constructors.</p>

<pre><code class="language-JavaScript">class SkinnedMesh extends THREE.Mesh {
 constructor(geometry, materials) {
   super(geometry, materials);

   this.idMatrix = SkinnedMesh.defaultMatrix();
   this.bones = [];
   this.boneMatrices = [];
   //...
 }
 update(camera) {
   //...
   super.update();
 }
 get boneCount() {
   return this.bones.length;
 }
 set matrixType(matrixType) {
   this.idMatrix = SkinnedMesh[matrixType]();
 }
 static defaultMatrix() {
   return new THREE.Matrix4();
 }
}
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Classes">MDN Classes</a></p>

<h3 id="enhanced-object-literals">Enhanced Object Literals</h3>
<p>Object literals are extended to support setting the prototype at construction, shorthand for <code class="language-plaintext highlighter-rouge">foo: foo</code> assignments, defining methods, making super calls, and computing property names with expressions.  Together, these also bring object literals and class declarations closer together, and let object-based design benefit from some of the same conveniences.</p>

<pre><code class="language-JavaScript">var obj = {
   // __proto__
   __proto__: theProtoObj,
   // Shorthand for ‘handler: handler’
   handler,
   // Methods
   toString() {
    // Super calls
    return "d " + super.toString();
   },
   // Computed (dynamic) property names
   [ 'prop_' + (() =&gt; 42)() ]: 42
};
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#Object_literals">MDN Grammer and types: Object literals</a></p>

<h3 id="template-strings">Template Strings</h3>
<p>Template strings provide syntactic sugar for constructing strings.  This is similar to string interpolation features in Perl, Python and more.  Optionally, a tag can be added to allow the string construction to be customized, avoiding injection attacks or constructing higher level data structures from string contents.</p>

<pre><code class="language-JavaScript">// Basic literal string creation
`In JavaScript '\n' is a line-feed.`

// Multiline strings
`In JavaScript this is
not legal.`

// String interpolation
var name = "Bob", time = "today";
`Hello ${name}, how are you ${time}?`

// Construct an HTTP request prefix is used to interpret the replacements and construction
POST`http://foo.org/bar?a=${a}&amp;b=${b}
    Content-Type: application/json
    X-Credentials: ${credentials}
    { "foo": ${foo},
      "bar": ${bar}}`(myOnReadyStateChangeHandler);
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings">MDN Template Strings</a></p>

<h3 id="destructuring">Destructuring</h3>
<p>Destructuring allows binding using pattern matching, with support for matching arrays and objects.  Destructuring is fail-soft, similar to standard object lookup <code class="language-plaintext highlighter-rouge">foo["bar"]</code>, producing <code class="language-plaintext highlighter-rouge">undefined</code> values when not found.</p>

<pre><code class="language-JavaScript">// list matching
var [a, , b] = [1,2,3];

// object matching
var { op: a, lhs: { op: b }, rhs: c }
      = getASTNode()

// object matching shorthand
// binds `op`, `lhs` and `rhs` in scope
var {op, lhs, rhs} = getASTNode()

// Can be used in parameter position
function g({name: x}) {
 console.log(x);
}
g({name: 5})

// Fail-soft destructuring
var [a] = [];
a === undefined;

// Fail-soft destructuring with defaults
var [a = 1] = [];
a === 1;
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">MDN Destructuring assignment</a></p>

<h3 id="default--rest--spread">Default + Rest + Spread</h3>
<p>Callee-evaluated default parameter values.  Turn an array into consecutive arguments in a function call.  Bind trailing parameters to an array.  Rest replaces the need for <code class="language-plaintext highlighter-rouge">arguments</code> and addresses common cases more directly.</p>

<pre><code class="language-JavaScript">function f(x, y=12) {
 // y is 12 if not passed (or passed as undefined)
 return x + y;
}
f(3) == 15
</code></pre>
<pre><code class="language-JavaScript">function f(x, ...y) {
 // y is an Array
 return x * y.length;
}
f(3, "hello", true) == 6
</code></pre>
<pre><code class="language-JavaScript">function f(x, y, z) {
 return x + y + z;
}
// Pass each elem of array as argument
f(...[1,2,3]) == 6
</code></pre>

<p>More MDN info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Default_parameters">Default parameters</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters">Rest parameters</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator">Spread Operator</a></p>

<h3 id="let--const">Let + Const</h3>
<p>Block-scoped binding constructs.  <code class="language-plaintext highlighter-rouge">let</code> is the new <code class="language-plaintext highlighter-rouge">var</code>.  <code class="language-plaintext highlighter-rouge">const</code> is single-assignment.  Static restrictions prevent use before assignment.</p>

<pre><code class="language-JavaScript">function f() {
 {
   let x;
   {
     // okay, block scoped name
     const x = "sneaky";
     // error, const
     x = "foo";
   }
   // error, already declared in block
   let x = "inner";
 }
}
</code></pre>

<p>More MDN info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/let">let statement</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/const">const statement</a></p>

<h3 id="iterators--forof">Iterators + For..Of</h3>
<p>Iterator objects enable custom iteration like CLR IEnumerable or Java Iterable.  Generalize <code class="language-plaintext highlighter-rouge">for..in</code> to custom iterator-based iteration with <code class="language-plaintext highlighter-rouge">for..of</code>.  Don’t require realizing an array, enabling lazy design patterns like LINQ.</p>

<pre><code class="language-JavaScript">let fibonacci = {
 [Symbol.iterator]() {
   let pre = 0, cur = 1;
   return {
     next() {
       [pre, cur] = [cur, pre + cur];
       return { done: false, value: cur }
     }
   }
 }
}

for (var n of fibonacci) {
 // truncate the sequence at 1000
 if (n &gt; 1000)
   break;
 console.log(n);
}
</code></pre>

<p>Iteration is based on these duck-typed interfaces (using <a href="http://typescriptlang.org">TypeScript</a> type syntax for exposition only):</p>
<pre><code class="language-TypeScript">interface IteratorResult {
 done: boolean;
 value: any;
}
interface Iterator {
 next(): IteratorResult;
}
interface Iterable {
 [Symbol.iterator](): Iterator
}
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of">MDN for…of</a></p>

<h3 id="generators">Generators</h3>
<p>Generators simplify iterator-authoring using <code class="language-plaintext highlighter-rouge">function*</code> and <code class="language-plaintext highlighter-rouge">yield</code>.  A function declared as function* returns a Generator instance.  Generators are subtypes of iterators which include additional  <code class="language-plaintext highlighter-rouge">next</code> and <code class="language-plaintext highlighter-rouge">throw</code>.  These enable values to flow back into the generator, so <code class="language-plaintext highlighter-rouge">yield</code> is an expression form which returns a value (or throws).</p>

<p>Note: Can also be used to enable ‘await’-like async programming, see also ES7 <code class="language-plaintext highlighter-rouge">await</code> proposal.</p>

<pre><code class="language-JavaScript">var fibonacci = {
 [Symbol.iterator]: function*() {
   var pre = 0, cur = 1;
   for (;;) {
     var temp = pre;
     pre = cur;
     cur += temp;
     yield cur;
   }
 }
}

for (var n of fibonacci) {
 // truncate the sequence at 1000
 if (n &gt; 1000)
   break;
 console.log(n);
}
</code></pre>

<p>The generator interface is (using <a href="http://typescriptlang.org">TypeScript</a> type syntax for exposition only):</p>

<pre><code class="language-TypeScript">interface Generator extends Iterator {
   next(value?: any): IteratorResult;
   throw(exception: any);
}
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols">MDN Iteration protocols</a></p>

<h3 id="unicode">Unicode</h3>
<p>Non-breaking additions to support full Unicode, including new Unicode literal form in strings and new RegExp <code class="language-plaintext highlighter-rouge">u</code> mode to handle code points, as well as new APIs to process strings at the 21bit code points level.  These additions support building global apps in JavaScript.</p>

<pre><code class="language-JavaScript">// same as ES5.1
"𠮷".length == 2

// new RegExp behaviour, opt-in ‘u’
"𠮷".match(/./u)[0].length == 2

// new form
"\u{20BB7}"=="𠮷"=="\uD842\uDFB7"

// new String ops
"𠮷".codePointAt(0) == 0x20BB7

// for-of iterates code points
for(var c of "𠮷") {
 console.log(c);
}
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/unicode">MDN RegExp.prototype.unicode</a></p>

<h3 id="modules">Modules</h3>
<p>Language-level support for modules for component definition.  Codifies patterns from popular JavaScript module loaders (AMD, CommonJS). Runtime behaviour defined by a host-defined default loader.  Implicitly async model – no code executes until requested modules are available and processed.</p>

<pre><code class="language-JavaScript">// lib/math.js
export function sum(x, y) {
 return x + y;
}
export var pi = 3.141593;
</code></pre>
<pre><code class="language-JavaScript">// app.js
import * as math from "lib/math";
alert("2π = " + math.sum(math.pi, math.pi));
</code></pre>
<pre><code class="language-JavaScript">// otherApp.js
import {sum, pi} from "lib/math";
alert("2π = " + sum(pi, pi));
</code></pre>

<p>Some additional features include <code class="language-plaintext highlighter-rouge">export default</code> and <code class="language-plaintext highlighter-rouge">export *</code>:</p>

<pre><code class="language-JavaScript">// lib/mathplusplus.js
export * from "lib/math";
export var e = 2.71828182846;
export default function(x) {
   return Math.log(x);
}
</code></pre>
<pre><code class="language-JavaScript">// app.js
import ln, {pi, e} from "lib/mathplusplus";
alert("2π = " + ln(e)*pi*2);
</code></pre>

<p>More MDN info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">import statement</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export">export statement</a></p>

<h3 id="module-loaders">Module Loaders</h3>
<p>Module loaders support:</p>
<ul>
  <li>Dynamic loading</li>
  <li>State isolation</li>
  <li>Global namespace isolation</li>
  <li>Compilation hooks</li>
  <li>Nested virtualization</li>
</ul>

<p>The default module loader can be configured, and new loaders can be constructed to evaluate and load code in isolated or constrained contexts.</p>

<pre><code class="language-JavaScript">// Dynamic loading – ‘System’ is default loader
System.import('lib/math').then(function(m) {
 alert("2π = " + m.sum(m.pi, m.pi));
});

// Create execution sandboxes – new Loaders
var loader = new Loader({
 global: fixup(window) // replace ‘console.log’
});
loader.eval("console.log('hello world!');");

// Directly manipulate module cache
System.get('jquery');
System.set('jquery', Module({$: $})); // WARNING: not yet finalized
</code></pre>

<h3 id="map--set--weakmap--weakset">Map + Set + WeakMap + WeakSet</h3>
<p>Efficient data structures for common algorithms.  WeakMaps provides leak-free object-key’d side tables.</p>

<pre><code class="language-JavaScript">// Sets
var s = new Set();
s.add("hello").add("goodbye").add("hello");
s.size === 2;
s.has("hello") === true;

// Maps
var m = new Map();
m.set("hello", 42);
m.set(s, 34);
m.get(s) == 34;

// Weak Maps
var wm = new WeakMap();
wm.set(s, { extra: 42 });
wm.size === undefined

// Weak Sets
var ws = new WeakSet();
ws.add({ data: 42 });
// Because the added object has no other references, it will not be held in the set
</code></pre>

<p>More MDN info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set">Set</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap">WeakMap</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet">WeakSet</a></p>

<h3 id="proxies">Proxies</h3>
<p>Proxies enable creation of objects with the full range of behaviors available to host objects.  Can be used for interception, object virtualization, logging/profiling, etc.</p>

<pre><code class="language-JavaScript">// Proxying a normal object
var target = {};
var handler = {
 get: function (receiver, name) {
   return `Hello, ${name}!`;
 }
};

var p = new Proxy(target, handler);
p.world === 'Hello, world!';
</code></pre>

<pre><code class="language-JavaScript">// Proxying a function object
var target = function () { return 'I am the target'; };
var handler = {
 apply: function (receiver, ...args) {
   return 'I am the proxy';
 }
};

var p = new Proxy(target, handler);
p() === 'I am the proxy';
</code></pre>

<p>There are traps available for all of the runtime-level meta-operations:</p>

<pre><code class="language-JavaScript">var handler =
{
 get:...,
 set:...,
 has:...,
 deleteProperty:...,
 apply:...,
 construct:...,
 getOwnPropertyDescriptor:...,
 defineProperty:...,
 getPrototypeOf:...,
 setPrototypeOf:...,
 enumerate:...,
 ownKeys:...,
 preventExtensions:...,
 isExtensible:...
}
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">MDN Proxy</a></p>

<h3 id="symbols">Symbols</h3>
<p>Symbols enable access control for object state.  Symbols allow properties to be keyed by either <code class="language-plaintext highlighter-rouge">string</code> (as in ES5) or <code class="language-plaintext highlighter-rouge">symbol</code>.  Symbols are a new primitive type. Optional <code class="language-plaintext highlighter-rouge">description</code> parameter used in debugging - but is not part of identity.  Symbols are unique (like gensym), but not private since they are exposed via reflection features like <code class="language-plaintext highlighter-rouge">Object.getOwnPropertySymbols</code>.</p>

<pre><code class="language-JavaScript">var MyClass = (function() {

 // module scoped symbol
 var key = Symbol("key");

 function MyClass(privateData) {
   this[key] = privateData;
 }

 MyClass.prototype = {
   doStuff: function() {
     ... this[key] ...
   }
 };

 return MyClass;
})();

var c = new MyClass("hello")
c["key"] === undefined
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol">MDN Symbol</a></p>

<h3 id="subclassable-built-ins">Subclassable Built-ins</h3>
<p>In ES6, built-ins like <code class="language-plaintext highlighter-rouge">Array</code>, <code class="language-plaintext highlighter-rouge">Date</code> and DOM <code class="language-plaintext highlighter-rouge">Element</code>s can be subclassed.</p>

<p>Object construction for a function named <code class="language-plaintext highlighter-rouge">Ctor</code> now uses two-phases (both virtually dispatched):</p>
<ul>
  <li>Call <code class="language-plaintext highlighter-rouge">Ctor[@@create]</code> to allocate the object, installing any special behavior</li>
  <li>Invoke constructor on new instance to initialize</li>
</ul>

<p>The known <code class="language-plaintext highlighter-rouge">@@create</code> symbol is available via <code class="language-plaintext highlighter-rouge">Symbol.create</code>.  Built-ins now expose their <code class="language-plaintext highlighter-rouge">@@create</code> explicitly.</p>

<pre><code class="language-JavaScript">// Pseudo-code of Array
class Array {
   constructor(...args) { /* ... */ }
   static [Symbol.create]() {
       // Install special [[DefineOwnProperty]]
       // to magically update 'length'
   }
}

// User code of Array subclass
class MyArray extends Array {
   constructor(...args) { super(...args); }
}

// Two-phase 'new':
// 1) Call @@create to allocate object
// 2) Invoke constructor on new instance
var arr = new MyArray();
arr[1] = 12;
arr.length == 2
</code></pre>

<h3 id="math--number--string--array--object-apis">Math + Number + String + Array + Object APIs</h3>
<p>Many new library additions, including core Math libraries, Array conversion helpers, String helpers, and Object.assign for copying.</p>

<pre><code class="language-JavaScript">Number.EPSILON
Number.isInteger(Infinity) // false
Number.isNaN("NaN") // false

Math.acosh(3) // 1.762747174039086
Math.hypot(3, 4) // 5
Math.imul(Math.pow(2, 32) - 1, Math.pow(2, 32) - 2) // 2

"abcde".includes("cd") // true
"abc".repeat(3) // "abcabcabc"

Array.from(document.querySelectorAll('*')) // Returns a real Array
Array.of(1, 2, 3) // Similar to new Array(...), but without special one-arg behavior
[0, 0, 0].fill(7, 1) // [0,7,7]
[1, 2, 3].find(x =&gt; x == 3) // 3
[1, 2, 3].findIndex(x =&gt; x == 2) // 1
[1, 2, 3, 4, 5].copyWithin(3, 0) // [1, 2, 3, 1, 2]
["a", "b", "c"].entries() // iterator [0, "a"], [1,"b"], [2,"c"]
["a", "b", "c"].keys() // iterator 0, 1, 2
["a", "b", "c"].values() // iterator "a", "b", "c"

Object.assign(Point, { origin: new Point(0,0) })
</code></pre>

<p>More MDN info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Number</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math">Math</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from">Array.from</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/of">Array.of</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin">Array.prototype.copyWithin</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign">Object.assign</a></p>

<h3 id="binary-and-octal-literals">Binary and Octal Literals</h3>
<p>Two new numeric literal forms are added for binary (<code class="language-plaintext highlighter-rouge">b</code>) and octal (<code class="language-plaintext highlighter-rouge">o</code>).</p>

<pre><code class="language-JavaScript">0b111110111 === 503 // true
0o767 === 503 // true
</code></pre>

<h3 id="promises">Promises</h3>
<p>Promises are a library for asynchronous programming.  Promises are a first class representation of a value that may be made available in the future.  Promises are used in many existing JavaScript libraries.</p>

<pre><code class="language-JavaScript">function timeout(duration = 0) {
   return new Promise((resolve, reject) =&gt; {
       setTimeout(resolve, duration);
   })
}

var p = timeout(1000).then(() =&gt; {
   return timeout(2000);
}).then(() =&gt; {
   throw new Error("hmm");
}).catch(err =&gt; {
   return Promise.all([timeout(100), timeout(200)]);
})
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">MDN Promise</a></p>

<h3 id="reflect-api">Reflect API</h3>
<p>Full reflection API exposing the runtime-level meta-operations on objects.  This is effectively the inverse of the Proxy API, and allows making calls corresponding to the same meta-operations as the proxy traps.  Especially useful for implementing proxies.</p>

<pre><code class="language-JavaScript">// No sample yet
</code></pre>

<p>More info: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect">MDN Reflect</a></p>

<h3 id="tail-calls">Tail Calls</h3>
<p>Calls in tail-position are guaranteed to not grow the stack unboundedly.  Makes recursive algorithms safe in the face of unbounded inputs.</p>

<pre><code class="language-JavaScript">function factorial(n, acc = 1) {
   'use strict';
   if (n &lt;= 1) return acc;
   return factorial(n - 1, n * acc);
}

// Stack overflow in most implementations today,
// but safe on arbitrary inputs in ES6
factorial(100000)
</code></pre>

<h3 id="other-reads">Other Reads</h3>

<ul>
  <li><a href="http://es6-features.org/#Constants">New Features: Overview &amp; Comparison</a></li>
  <li><a href="http://www.ecma-international.org/ecma-262/6.0/">ES6 standard</a></li>
</ul>

    <a href="https://lightrains.com/blogs/es6" title="ECMAScript 6" class="nonamp">Full Version of ECMAScript 6</a>
  </div>
  
  <div class="related ui segment">
    <h3>Related Posts</h3>
    <ul class="ui list">
      
      
      <li><a href="/amp/blogs/nft-standards-erc-721-erc-1155/index.html" title="Various NFT Standards">Various NFT Standards</a></li>
      
      <li><a href="/amp/blogs/what-is-nft-non-fungible-tokens/index.html" title="What is an NFT aka Non Fungible Tokens">What is an NFT aka Non Fungible Tokens</a></li>
      
      <li><a href="/amp/blogs/mongodb-solutions-to-data-growth/index.html" title="MongoDB Solutions to data growth">MongoDB Solutions to data growth</a></li>
      
      <li><a href="/amp/blogs/formsure-alternative-google-forms/index.html" title="Why we moved to Formsure from Google Forms">Why we moved to Formsure from Google Forms</a></li>
      
    </ul>
    <p class="slogan">Lightrains Technolabs | Blockchain Consulting. Technology Supercharged</p>
  </div>
</body>
</html>
